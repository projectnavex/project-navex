<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Navex</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1 class="center-text">Project Navex</h1>
    <p class="instructions">Generate your Navigation Data Sheet with a few simple clicks...</p>

    <div class="dropdown-container">
        <div class="dropdown">
            <div class="select">
                <span class="selected">Lorong Asrama</span>
                <div class="caret"></div>
            </div>
            <ul class="menu">
                <li>Tekong</li>
                <li class="active">Lorong Asrama</li>
            </ul>
        </div>
    </div>
    
    <div id="map"></div>
    <script>
        fetch('/.netlify/functions/map-proxy')
        .then(response => response.text())
        .then(data => {
            var script = document.createElement("script");
            script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.GOOGLE_MAPS_API_KEY}&callback=initMap&v=weekly`
            document.appendChild(script);
        })
        .catch(error => {
            console.error('Error: ', error);
        })
    </script>
    
    <p class="instructions" id="mgr-input-result">Or manually input your points.</p>
    <div id="mgr-input">
        <div id="mgr-input-group">
            <input type="tel" maxlength="8" placeholder="Enter your MGR" id="mgr-input-box">
            <button id="mgr-input-button" onclick="addUserMGR()">Plot</button>
        </div>
    </div>

    <p class="instructions">Set distance intervals.</p>
    <div class="intervals">
        <div class="radiogroup">
            <input type="radio" name="radio-group" id="day" value="day" checked>
            <label class="radio-left" for="day">Day (100m)</label>
    
            <input type="radio" name="radio-group" id="night" value="night">
            <label class="radio-right" for="night">Night (50m)</label>
        </div>
    </div>
    
    <p class="instructions">Clear Map or Generate NDS.</p>
    <div class="follow-up-action">
        <button id="clear" onclick="deleteMarkers()">Clear</button>
        <button id="run" onclick="transformCoordinates()">Run</button>
    </div>

    <div id="table-div"></div>

    <footer>
        <div id="footer-text">
            <h3>ORD lo.</h3>
            <p>Alex: <a href="https://github.com/Airiinnn">GitHub</a></p>
            <p>Wuihee: <a href="https://github.com/wuihee">GitHub</a> | <a href ="mailto: wuihee@gmail.com">Contact</a></p>
        </div>
    </footer>

    <script type="text/javascript", src="index.js"></script>
</html>